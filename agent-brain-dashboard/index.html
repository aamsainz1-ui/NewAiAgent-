<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Anti-cache headers -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Agent Brain 3D</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      html, body { 
        width: 100%; 
        height: 100%; 
        background: #000; 
        overflow: hidden;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
      #desktop-view {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .loading {
        text-align: center;
        color: #fff;
      }
      .spinner {
        border: 4px solid rgba(255,255,255,0.1);
        border-left-color: #00f0ff;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 15px;
      }
      @keyframes spin { 
        0% { transform: rotate(0deg); } 
        100% { transform: rotate(360deg); } 
      }
    </style>
  </head>
  <body>
    <div id="desktop-view">
      <div class="loading">
        <div class="spinner"></div>
        <div style="font-size: 1.2rem; color: #ccc;">LOADING BRAIN...</div>
      </div>
    </div>
    
    <script>
      (function() {
        var ua = navigator.userAgent;
        var isIOS = /iPhone|iPad|iPod/i.test(ua) || (ua.includes('Macintosh') && 'ontouchend' in document);
        var isAndroid = /Android/i.test(ua);
        var isMobile = isIOS || isAndroid || /webOS|BlackBerry|IEMobile|Opera Mini/i.test(ua);
        var isSmallScreen = window.innerWidth < 768;
        
        if (isMobile || isSmallScreen) {
          // Mobile: redirect immediately, DON'T load React
          window.location.replace('https://agent-brain-dashboard.vercel.app/mobile.html');
        } else {
          // Desktop: load React app
          var script = document.createElement('script');
          script.type = 'module';
          script.src = '/src/main.jsx';
          document.body.appendChild(script);
        }
      })();
    </script>
  </body>
</html>
